{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Container,VStack,Heading,Text,Button,useToast,Spinner}from'@chakra-ui/react';import{useNavigate,useSearchParams}from'react-router-dom';import PaymentService from'../services/PaymentService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SuccessPage=()=>{const[isLoading,setIsLoading]=useState(true);const navigate=useNavigate();const[searchParams]=useSearchParams();const toast=useToast();useEffect(()=>{const verifySubscription=async()=>{try{const sessionId=searchParams.get('session_id');if(!sessionId){throw new Error('No session ID found');}// Here you would typically verify the session with your backend\nconst subscription=await PaymentService.getCurrentSubscription();toast({title:'Subscription Active',description:'Your subscription has been successfully activated!',status:'success',duration:5000,isClosable:true});}catch(error){console.error('Verification error:',error);toast({title:'Verification Error',description:error.message,status:'error',duration:5000,isClosable:true});}finally{setIsLoading(false);}};verifySubscription();},[searchParams,toast]);const handleReturnHome=()=>{navigate('/');};if(isLoading){return/*#__PURE__*/_jsxs(Container,{centerContent:true,py:20,children:[/*#__PURE__*/_jsx(Spinner,{size:\"xl\"}),/*#__PURE__*/_jsx(Text,{mt:4,children:\"Verifying your subscription...\"})]});}return/*#__PURE__*/_jsx(Container,{maxW:\"container.md\",py:20,children:/*#__PURE__*/_jsxs(VStack,{spacing:8,textAlign:\"center\",children:[/*#__PURE__*/_jsx(Heading,{color:\"green.500\",children:\"Thank You!\"}),/*#__PURE__*/_jsx(Text,{fontSize:\"xl\",children:\"Your subscription has been successfully activated. You now have full access to all features.\"}),/*#__PURE__*/_jsx(Button,{colorScheme:\"blue\",size:\"lg\",onClick:handleReturnHome,children:\"Return to Translator\"})]})});};export default SuccessPage;","map":{"version":3,"names":["React","useEffect","useState","Container","VStack","Heading","Text","Button","useToast","Spinner","useNavigate","useSearchParams","PaymentService","jsx","_jsx","jsxs","_jsxs","SuccessPage","isLoading","setIsLoading","navigate","searchParams","toast","verifySubscription","sessionId","get","Error","subscription","getCurrentSubscription","title","description","status","duration","isClosable","error","console","message","handleReturnHome","centerContent","py","children","size","mt","maxW","spacing","textAlign","color","fontSize","colorScheme","onClick"],"sources":["D:/AI Projects/translator/src/components/SuccessPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Container,\r\n  VStack,\r\n  Heading,\r\n  Text,\r\n  Button,\r\n  useToast,\r\n  Spinner,\r\n} from '@chakra-ui/react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport PaymentService from '../services/PaymentService';\r\n\r\nconst SuccessPage = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const navigate = useNavigate();\r\n  const [searchParams] = useSearchParams();\r\n  const toast = useToast();\r\n\r\n  useEffect(() => {\r\n    const verifySubscription = async () => {\r\n      try {\r\n        const sessionId = searchParams.get('session_id');\r\n        if (!sessionId) {\r\n          throw new Error('No session ID found');\r\n        }\r\n\r\n        // Here you would typically verify the session with your backend\r\n        const subscription = await PaymentService.getCurrentSubscription();\r\n        \r\n        toast({\r\n          title: 'Subscription Active',\r\n          description: 'Your subscription has been successfully activated!',\r\n          status: 'success',\r\n          duration: 5000,\r\n          isClosable: true,\r\n        });\r\n      } catch (error) {\r\n        console.error('Verification error:', error);\r\n        toast({\r\n          title: 'Verification Error',\r\n          description: error.message,\r\n          status: 'error',\r\n          duration: 5000,\r\n          isClosable: true,\r\n        });\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    verifySubscription();\r\n  }, [searchParams, toast]);\r\n\r\n  const handleReturnHome = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container centerContent py={20}>\r\n        <Spinner size=\"xl\" />\r\n        <Text mt={4}>Verifying your subscription...</Text>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxW=\"container.md\" py={20}>\r\n      <VStack spacing={8} textAlign=\"center\">\r\n        <Heading color=\"green.500\">Thank You!</Heading>\r\n        <Text fontSize=\"xl\">\r\n          Your subscription has been successfully activated. You now have full access to all features.\r\n        </Text>\r\n        <Button colorScheme=\"blue\" size=\"lg\" onClick={handleReturnHome}>\r\n          Return to Translator\r\n        </Button>\r\n      </VStack>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SuccessPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}